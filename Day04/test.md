现有4个线程R1，R2，W1和W2，它们共享可以存放一个数的缓冲器B。线程R1每次把从键盘上读入的一个数存放到缓冲器B中，供线程W1打印输出;线程R2每次从磁盘上读一个数放到缓冲器B中，供线程W2打印输出。当一个线程把数据存放到缓冲器后，在该数还没有被打印输出之前不准任何线程再向缓冲器中存数。在缓冲器中还没有存入一个新的数之前不允许任何线程加快从缓冲区中取出打印。编写程序，采用互斥锁或信号量机制使这4个线程并发执行协调工作。
提示，互斥锁和信号量定义如下:

- 互斥锁S:表示能否把数存入缓冲器B，初始值为1。
- 信号量S1:表示R1是否已向缓冲器存入从键盘上读入的一个数，初始值为0。信号量S2:表示R2是否已向缓冲器存入从磁盘上读入的一个数，初始值为0。